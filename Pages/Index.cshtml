@page

<!DOCTYPE html>
<html>
<head>
    <title>Welcome to My Website</title>
    <link rel="stylesheet" type="text/css" href="/css/site.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div class="stars"></div>
    <h1>Welcome to My Website</h1>
    <p>This is the landing page of my .NET project.</p>

    <input type="text" id="searchBar" placeholder="Search for datasets...">
    <button id="searchButton">Search</button>

    <div id="searchResults"></div>

    <script>
        $(document).ready(function() {
            $('#searchButton').on('click', function() {
                var query = $('#searchBar').val();
                $.ajax({
                    url: '/api/KaggleDatasets?search=' + query,
                    type: 'GET',
                    success: function(data) {
                        $('#searchResults').empty();
                        data.forEach(dataset => {
                            var words = dataset.split(' ');
                            var link = words[0];
                            var displayText = words.slice(1).join(' ');
                            $('#searchResults').append(`<p><a href="${link}" target="_blank">${displayText}</a></p>`);
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>